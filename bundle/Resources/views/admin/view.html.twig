{% trans_default_domain 'netgen_information_collection_admin' %}

{% extends netgen_information_collection_admin.pageLayoutTemplate %}

{% block content %}

    <a class="ic-btn" href="{{ app.request.headers.get('referer') }}">
        <i class="md-icon">chevron_left</i> {{ 'netgen_information_collection_admin_back'|trans }}
    </a>

    {% include "@NetgenInformationCollection/admin/flash_messages.html.twig" %}

    <h1>{{ 'netgen_information_collection_admin_view_title'|trans({'%collection_id%': collection.id, '%content_name%': ez_content_name(content)}) }}</h1>
    <h6>{{ 'netgen_information_collection_admin_view_subtitle'|trans({'%date%': collection.modified|date("Y.m.d H:i"), '%user_name%': user.name}) }}</h6>

    <form method="post" action="{{ path('netgen_information_collection.route.admin.handle_collection') }}">

        <input type="hidden" value="{{ collection.id }}" name="CollectionId">
        <input type="hidden" value="{{ content.id }}" name="ContentId">

        {% for object in objects %}
            <div class="list-object">
                <span class="checkbox">
                    <input id="{{ object.field.id }}" name="FieldId[]" value="{{ object.field.id }}" title="Select collections for removal." type="checkbox">
                    <label for="{{ object.field.id }}">
                    </label>
                </span>
                <span class="attribute-name">
                    {{ ez_field_name(content, object.field.identifier) }}:
                </span>
                <span class="attribute-value">
                    {{ object.object.value }}
                </span>
            </div>
        {% endfor %}

        <div class="ic-btn-group">
            <button type="submit" name="DeleteFieldAction" class="ic-btn" data-enabler="ic">{{ 'netgen_information_collection_admin_view_delete_field'|trans }}</button>
            <button type="submit" name="AnonymizeFieldAction" class="ic-btn" data-enabler="ic">{{ 'netgen_information_collection_admin_view_anonymize_field'|trans }}</button>

            <button type="submit" name="DeleteCollectionAction" class="ic-btn" data-enabler="ic">{{ 'netgen_information_collection_admin_view_delete'|trans }}</button>
            <button type="submit" name="AnonymizeCollectionAction" class="ic-btn" data-enabler="ic">{{ 'netgen_information_collection_admin_view_anonymize'|trans }}</button>
        </div>

    </form>

{% endblock %}
